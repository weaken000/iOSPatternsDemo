# iOSPatternsDemo

为了更好地体现架构设计的完整性，虽然项目非常简单，但是故意写得很复杂。

## MVCS+MVVM架构模式

在传统的MVVM中会包含大量数据获取的逻辑，例如网络请求、本地数据获取等。
也有一些情况会将数据获取的逻辑集中到Model，或者VC中。
这些情况都会导致某个模块代码的臃肿，也不利于这部分逻辑的复用。

在MVCS中会将这部分数据获取的逻辑集合到S-Store中，Store完全只做数据获取、缓存、以及一些基础的数据处理工作，同时为了复用，Store中可以包含其他Store，这就达到了Store的高复用性。同时，因为Store不与任何视图发生关系，完全解耦，也非常方便测试。

### 为什么在使用了MVCS后，还要在其中添加MVVM？

因为MVCS只是做了数据获取的分离，对于业务逻辑，仍然在VC中处理，也会导致臃肿不利于维护的VC。所以在MVCS的基础上，仍然需要有一个ViewModel层来对业务逻辑做分离。

### 为什么ViewModel不使用双向绑定？

双向绑定的缺点是：
1、iOS中并没有非常好的Api做支持(kvc、通知都是硬编码)，需要借助其他第三方框架(rac、rx)。
2、双向绑定不太好debug，出了问题不好查找。


### ViewModel职责

ViewModel同样为了高复用性，也不应该持有View。
ViewModel的工作应该是一个视图适配器，根据视图填充对应的ViewModel，完成数据的渲染。


控制器的唯一工作，就是接收视图的回调。
